# Java 虚拟机 - JVM

## 原码、反码、补码

* 原码：整数绝对值大小转换为二进制数
  * int 类型`(4字节32位)`的整数`3`在计算机中存储形式是`00000000 0000000 00000000 00000011`
  * -3 在计算机中存储形式是：`11111111 11111111 11111111 11111101`
  * 正数转换成二进制后最高位为 0，负数的二进制最高位为 1
* 反码：由原码按位取反操作取得，原码1变0，0变1
  * 3 的反码：`11111111 11111111 11111111 11111100`
* 补码：反码加1
  * 3 的补码：`11111111 11111111 11111111 11111101`
* 正数在计算机中按原码存储，负数按相应正数的补码存储

## JVM 基本结构

* 类加载系统负责从文件系统或者网络中加载`class`信息，加载的类信息被放在一个称为`方法区`的内存块
* 方法区：除了要存放类的加载信息，还存放运行时常量信息(如：字符串字面量、数字常量)
* `Java`堆：`Java`堆在`JVM`启动时创建，是最主要的内存工作区域。几乎所有的`Java`对象实例都存放在堆中。堆空间是所有线程共享的，也是与`Java`应用密切相关的内存区间
* 直接内存：是在`Java`堆外的、直接向系统申请的内存空间。读写性能高于`Java`堆
* 垃圾回收：对方法区、堆和直接内存进行回收。由垃圾回收系统在后台默默完成
* `Java`栈：每一个`JVM`线程都一个私有的`Java`栈。随线程创建而被创建，保存局部变量、方法参数
* 本地方法栈：类似于`Java`栈，用于本地方法调用，而`Java`栈用于`Java`方法的调用
* `PC`寄存器：即`Program Counter` 寄存器。也是每个线程私有的空间
* 执行引擎：负责执行虚拟机的字节码