# 概述

## 互联网组成

### 边缘部分

* 由所有连接在互联网上的主机组成，是用户直接使用的，用来进行通信和资源共享
* C/S 方式
  * 客户作为请求方，向服务器请求数据获得服务，服务器作为服务提供方
  * 二者都需要使用网络核心所提供的服务
  * 客户程序需要知道服务器的地址，服务器被动等待接收来自各地客户的通信请求
* P2P 方式
  * 对等连接。两台主机在通信时并不区分谁是服务提供方，只要两台主机都运行了对等连接软件，就可以进行平等的连接通信
  * 双方都可以下载对方存在磁盘中的共享数据文档
  * 一种特殊的CS服务方式，既是客户也是服务器
  * 支持大量（上百万个）对等用户同时工作

### 核心部分

* 由大量网络和连接这些网络的路由器组成。为边缘部分提供服务，提供连通性和交换

* 最复杂的部分，向边缘中的大量主机提供连通性，使其中的任何一台主机都能够向其他主机通信

* 起特殊作用的是路由器，是一种专用计算器。实现分组交换的关键组件，任务是转发收到的分组

* 电路交换（switch：切换 ???）
  * 替换了之前很多部电话彼此两两相连接的方式，引入了交换机
  * 交换机将这些电话连接起来，每一部电话只连接到交换机上，彼此之间可以方便地通信
  * 交换机之间也可以相互连接，依此可形成庞大的电信和网络
  * 电路交换：经过建立连接（占用通信资源）、通话（一直占用通信资源）、释放连接（归还通信资源）三个步骤的交换方式
  * 在通话的全部时间内，通话的两个用户始终占用端到端的通信资源
  * 线路传输效率较低，计算机数据突发式的出现在传输线路上，通信线路大部分时间都是空闲的

* 分组交换
  * 采用存储转发技术。把一个报文划分为几个分组后再进行传送，发送的整块数据为报文 message。发送前，将报文划分成较小的等长的数据段，并在此数据段前加上必要的控制信息作为首部，就构成了分组，或称之为包。即：分组=数据段+首部
  * 分组是传输的数据单元
  * 路由器用于转发这些分组，即进行分组交换的。路由器收到一个分组时，先暂存一下，检查首部，查找转发表，按照首部中的目标地址找到合适的接口转发出去，把分组交给下一个路由器，以这样的存储转发的方式，把分组交付给最终的目的主机
  * 路由器相当于快递路上不同的中转站，实现资源数据的一步步转移，直至转交给目标地址
  * 路由器必须经常交换彼此掌握的路由信息，以便创建和动态维护路由器中的转发表
  * 分组在各个路由器转发时需要排队，会造成延时；分组时携带的控制信息也有额外的开销；整个分组交换网还需要专门的管理和控制机制
  * 电路交换：整个报文的比特流连续地从源点直达终点，好像在一个管道中传达
  * 报文交换：整个报文先传到相邻节点，全部存储下来后查找转发表，转发到下一个节点
  * 分组交换：整个报文的一部分即单个分组传送到相邻节点，存储下来后查找转发表，转发到下一个节点

### 网络的性能

* 速率：数据的传输速率，或称为数据率，基本单位是比特每秒（bit/s）。计算机发送的信号都是数字形式的，比特即二进制数字0和1
* 带宽：表示网络中某通道传输数据的能力。单位时间内通过某信道的最高数据率，基本单位就是数据率的单位 bit/s
* 吞吐量：单位时间内通过某个网络信道或者接口的实际数据量

### 具有五层协议的体系结构

* OSI 是七层协议体系结构：物理层、数据链路层、网络层、运输层、会话层、表示层、应用层
* TCP/IP 是四层协议体系结构：网络接口层、网际层 IP、运输层（TCP 或者 UDP）、应用层
* 五层协议的体系结构：物理层、数据链路层、网络层、运输层、应用层。是四层和七层的折中
* 应用层：应用层协议是应用进程间通信和交互的规则：HTTP、SMTP、FTP 等协议，应用层交互的数据单元是报文
* 运输层：负责向两台主机进程之间的通信提供通用的数据传输服务。应用层利用该服务传送应用层报文
  * 传输控制协议 TCP：提供面向连接的、可靠的数据传输服务，其数据传输的单位是报文段
  * 用户数据报协议 UDP：提供无连接的、尽最大努力的数据传输服务（不保证数据传输的可靠性），其数据传输的基本单位是用户数据报
* 网络层：负责为分组交换网上的不同主机提供通信服务。发送数据时，网络层把运输层产生的报文段或者用户数据报封装成分组或者包进行传送。又称为网际层、IP 层。使用 IP 协议
* 数据链路层：即链路层。两台主机之间的数据传输，是一段一段在链路上传送的。数据在相邻节点之间传输时，数据链路层将网络层交下来的 IP 数据报组装成帧，相邻节点间的链路上传送帧，每一帧包括数据和必要的控制信息
* 物理层：在此层上传输的数据的单位是比特，0或者1

# 物理层

## 基本概念

* 物理层考虑的是如何在连接计算机上的传输媒体上传输数据比特流，而非具体的传输媒体

## 数据通信

* 原系统（发送端）、传输系统（传输网络）、目的系统（接收端）
* 通信的目的是发送消息 message，数据 data 是实际的发送消息实体
* 信道 channel：向某一个方向发送信息的媒体。一条通信电路包含一条发送信道和一条接收的信道
* 单向通信：即单工通信。只有一个方向的通信而没有交互响应，如广播。只需要一条信道
* 双向交替通信：即半双工通信。通信的双方都可以发送信息，但是不能同时发送或者接收消息。只能一方发送另一方接收，然后再反过来。需要两条信道，每个方向各一条
* 双向同时通信：即全双工通信。通信双方可以同时发送和接收消息。需要两条信道，每个方向各一条
* 调制：来自信源的信号称之为基带信号，其中含有很多低频成分，为解决某些信道无法传输该种低频信号，需要对基带信号进行调制
* 信道的极限容量：信道不能以任意高的速率进行传送。信号在信道上传送时，会产生失真，接收端需要从失真的信号中识别和还原原来的信号。传送速率越高、传送距离越远就会导致失真越严重

## 传输媒体

* 是数据传输系统中在发送系统和接收系统之间的物理通路
* 导引型传输媒体
  * 电磁波被导引沿着固定媒体（铜线或者光纤）传播
* 非导引型传输媒体
  * 即为自由空间，通过该种介质进行的传输称之为无线传输

### 导引型传输媒体

* 双绞线：将两根相互绝缘的铜导线并排放在一起，通过规则的方法绞合在一起。减少了二者之间的电磁干扰
* 同轴电缆：由内导体铜质芯线、绝缘体、网状编织的外导体屏蔽层以及塑料外层构成。用于较高速率的数据传输
* 光缆：光纤通信利用光导纤维传递光脉冲进行通信。一个光纤通信系统传输带宽远大于其他传输媒体的带宽
  * 原理：光纤作为传输媒体。光源作为发送端，可以采用发光二极管或者半导体激光器，在脉冲的作用下产生光脉冲；接受端采用光电二极管做成光检测器，检测到光脉冲时还原出电脉冲

### 非导引型传输媒体

* 导引型传输媒体无法实施时，采用非导引型传输媒体。
* 无线信道进行信息传输是运动中通信的唯一手段，如移动电话通信而非固定电话通信
* 卫星通信：传播延时较高

## 信道复用技术

* 在发送端先经过复用器，将原本经过不同信道的信号，改为共享一个信道进行通信，在接收端再使用分用器，把合起来的信息分别送到相应的终点
* 要求共享信道的带宽要大于单独的信道
* 频分复用
  * 用户在分配到一定的频带后，在通信过程中会一直占用该频带
  * 频分复用的所有用户在同样的时间占用不同的频率带宽资源
* 时分复用
  * 将时间划分为一段段等长的时分复用帧，每一个时分复用的用户在每一个帧中占用固定序号的时隙
  * 时分复用的用户在不同时间占用同样的频率带宽
* 统计时分复用
  * 改进的时分复用技术，提高信道的利用率
* 波分复用
  * 即光的频分复用。在一根光纤上同时传输多个频率很接近的光载波信号
* 码分复用
  * 每人用户可以在同样的是时间使用同样的频带进行通信，各用户使用不同的码型，彼此之间不会干扰

# 数据链路层

# 网络层

# 运输层

# 应用层

