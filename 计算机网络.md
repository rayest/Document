# 概述

## 互联网组成

### 边缘部分

* 由所有连接在互联网上的主机组成，是用户直接使用的，用来进行通信和资源共享
* C/S 方式
  * 客户作为请求方，向服务器请求数据获得服务，服务器作为服务提供方
  * 二者都需要使用网络核心所提供的服务
  * 客户程序需要知道服务器的地址，服务器被动等待接收来自各地客户的通信请求
* P2P 方式
  * 对等连接。两台主机在通信时并不区分谁是服务提供方，只要两台主机都运行了对等连接软件，就可以进行平等的连接通信
  * 双方都可以下载对方存在磁盘中的共享数据文档
  * 一种特殊的CS服务方式，既是客户也是服务器
  * 支持大量（上百万个）对等用户同时工作

### 核心部分

* 由大量网络和连接这些网络的路由器组成。为边缘部分提供服务，提供连通性和交换
* 最复杂的部分，向边缘中的大量主机提供连通性，使其中的任何一台主机都能够向其他主机通信
* 起特殊作用的是路由器，是一种专用计算器。实现分组交换的关键组件，任务是转发收到的分组
* 电路交换（switch：切换 ???）
  * 替换了之前很多部电话彼此两两相连接的方式，引入了交换机
  * 交换机将这些电话连接起来，每一部电话只连接到交换机上，彼此之间可以方便地通信
  * 交换机之间也可以相互连接，依此可形成庞大的电信和网络
  * 电路交换：经过建立连接（占用通信资源）、通话（一直占用通信资源）、释放连接（归还通信资源）三个步骤的交换方式
  * 在通话的全部时间内，通话的两个用户始终占用端到端的通信资源
  * 线路传输效率较低，计算机数据突发式的出现在传输线路上，通信线路大部分时间都是空闲的
* 分组交换
  * 采用存储转发技术。把一个报文划分为几个分组后再进行传送，发送的整块数据为报文 message。发送前，将报文划分成较小的等长的数据段，并在此数据段前加上必要的控制信息作为首部，就构成了分组，或称之为包。即：分组=数据段+首部
  * 分组是传输的数据单元
  * 路由器用于转发这些分组，即进行分组交换的。路由器收到一个分组时，先暂存一下，检查首部，查找转发表，按照首部中的目标地址找到合适的接口转发出去，把分组交给下一个路由器，以这样的存储转发的方式，把分组交付给最终的目的主机
  * 路由器相当于快递路上不同的中转站，实现资源数据的一步步转移，直至转交给目标地址
  * 路由器必须经常交换彼此掌握的路由信息，以便创建和动态维护路由器中的转发表
  * 分组在各个路由器转发时需要排队，会造成延时；分组时携带的控制信息也有额外的开销；整个分组交换网还需要专门的管理和控制机制
  * 电路交换：整个报文的比特流连续地从源点直达终点，好像在一个管道中传达
  * 报文交换：整个报文先传到相邻节点，全部存储下来后查找转发表，转发到下一个节点
  * 分组交换：整个报文的一部分即单个分组传送到相邻节点，存储下来后查找转发表，转发到下一个节点